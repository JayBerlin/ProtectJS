Bug fixes and tidying
Using strict